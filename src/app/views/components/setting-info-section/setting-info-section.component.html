<div class="flex flex-col gap-4">
  <div class="w-full bg-card text-primary-text shadow-lg p-4 rounded-lg">
    <div class="flex flex-row justify-between items-center mb-4">
      <p class="font-bold">Gestion des écoles</p>
      <button
        (click)="openCreateSchoolDialog()"
        class="rounded px-4 py-2 bg-primary-500 text-white border-primary-500 border-1 hover:bg-primary-600 cursor-pointer transition-colors"
      >
        + Ajouter une école
      </button>
    </div>
  </div>

  <form *ngIf="entrepriseForm" [formGroup]="entrepriseForm"
    class="w-full bg-card text-primary-text shadow-lg min-h-30 p-4 rounded-lg">
    <div class="flex flex-col gap-4">
      <div class="flex flex-col">
        <div class="flex flex-row justify-between items-center">
          <p class="font-bold">Informations de l'école</p>
          <div *ngIf="isUpdatingEntrepriseForm" (click)="updateInformations('school')"
            class="rounded px-2 py-1 bg-card shadow-lg text-primary-500 border-primary-500 border-1 hover:bg-primary-500 hover:text-white cursor-pointer">
            Enregistrer
          </div>
        </div>
        <!-- <p class="text-sm text-[#707070]">Remplissez les champs dessous pour changer de mot de passe</p> -->
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div class="flex flex-col gap-2">
          <p class="text-sm">Nom de l'école</p>
          <input name="organisationName" formControlName="organisation_name" type="text"
            class="px-4 py-2 border bg-card border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500 focus:border-primary-500 focus:outline-none"
            placeholder="École Primaire ABC" />
        </div>

        <div class="flex flex-col gap-2">
          <p class="text-sm">Téléphone</p>
          <input name="organisationPhone" formControlName="organisation_phone" type="tel"
            class="px-4 py-2 border bg-card border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500 focus:border-primary-500 focus:outline-none"
            placeholder="+221 77 873 63 74" />
        </div>
        <div class="flex flex-col gap-2">
          <p class="text-sm">Email</p>
          <input name="organisationEmail" formControlName="organisation_email" type="email"
            class="px-4 py-2 border bg-card border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500"
            placeholder="johndoe@gmail.com" />
        </div>

        <!-- <div class="flex flex-col gap-2">
          <p class="text-sm">Entête sms</p>
          <input
            type="password"
            class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500"
            placeholder="HMO"
          />
        </div> -->
      </div>
    </div>
  </form>

  <form *ngIf="personalForm" [formGroup]="personalForm"
    class="w-full bg-card text-primary-text shadow-lg min-h-30 p-4 rounded-lg">
    <div class="flex flex-col gap-4">
      <div class="flex flex-col">
        <div class="flex flex-row justify-between items-center">
          <p class="font-bold">Informations personnelles</p>
          <div *ngIf="isUpdatingPersonalForm" (click)="updateMyInfos()"
            class="rounded px-2 py-1 bg-card shadow-lg text-primary-500 border-primary-500 border-1 hover:bg-primary-500 hover:text-white cursor-pointer">
            Enregistrer
          </div>
        </div>
        <!-- <p class="text-sm text-[#707070]">Remplissez les champs dessous pour changer de mot de passe</p> -->
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div class="flex flex-col gap-2">
          <p class="text-sm">Prénom</p>
          <input name="first_name" formControlName="first_name" type="text"
            class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500"
            placeholder="Babacar" />
        </div>

        <div class="flex flex-col gap-2">
          <p class="text-sm">Nom</p>
          <input name="last_name" formControlName="last_name" type="text"
            class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500"
            placeholder="Babacar" />
        </div>
        <div class="flex flex-col gap-2">
          <p class="text-sm">Email</p>
          <input name="email" formControlName="email" type="email"
            class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500"
            placeholder="johndoe@gmail.com" />
        </div>

        <div class="flex flex-col gap-2">
          <p class="text-sm">Téléphone</p>
          <input name="phone" formControlName="phone" type="text"
            class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500"
            placeholder="+221 77 873 63 74" />
        </div>
      </div>
    </div>
  </form>
  <form *ngIf="passwordForm" [formGroup]="passwordForm"
    class="w-full bg-card text-primary-text shadow-lg min-h-30 p-4 rounded-lg">
    <div class="flex flex-col gap-4">
      <div class="flex flex-row justify-between items-center">
        <div class="flex flex-col">
          <p class="font-bold">Changer votre mot de passe</p>
          <p class="text-sm text-[#707070]">
            Remplissez les champs dessous pour changer de mot de passe
          </p>
        </div>
        <div *ngIf="isUpdatingPasswordForm" (click)="updatePassword()"
          class="rounded px-2 py-1 bg-card shadow-lg text-primary-500 border-primary-500 border-1 hover:bg-primary-500 hover:text-white cursor-pointer">
          Enregistrer
        </div>
      </div>
      <div class="flex flex-col gap-2 w-full">
        <div>Ancien mot de passe</div>
        <input type="password" formControlName="currentPassword"
          class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500"
          placeholder="Ancien mot de passe" />
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div class="flex flex-col gap-2">
          <p>Nouveau mot de passe</p>
          <input type="password" formControlName="newPassword"
            class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500"
            placeholder="Nouveau mot de passe" />
        </div>

        <div class="flex flex-col gap-2">
          <p>Retapez le mot de passe</p>
          <input type="password" formControlName="newPasswordConfirmation"
            class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500"
            placeholder="Nouveau mot de passe" />
        </div>
      </div>
    </div>
  </form>

  <div class="w-full rounded-lg bg-card text-primary-text shadow-lg min-h-30 p-4">
    <div class="flex-col flex gap-4">
      <div class="flex flex-row justify-between items-center">
        <div class="flex flex-col">
          <p class="font-bold">Devise</p>
          <p class="tet-sm text-[#707070]">Choisissez une devise</p>
        </div>
        <div (click)="updateDevise()"
          class="rounded px-2 py-1 bg-card shadow-lg text-primary-500 border-primary-500 border-1 hover:bg-primary-500 hover:text-white cursor-pointer">
          Enregistrer
        </div>
      </div>
      <select [(ngModel)]="devise" id="perPage"
        class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500">
        <option value="XOF">XOF</option>
        <option value="USD">USD</option>
        <option value="EUR">EUR</option>
      </select>
    </div>
  </div>
</div>