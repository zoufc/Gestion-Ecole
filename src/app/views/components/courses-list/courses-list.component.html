<div class="flex flex-col gap-8 dark:text-white">
  <p class="font-bold text-xl">
    <span class="text-[#707070]">Accueil /</span>
    <span class="text-primary-text">Cours</span>
  </p>

  <div *ngIf="isLoadingStatistic"
    class="w-full min-h-30 bg-card text-primary-textshadow-lg rounded-lg p-4 flex md:flex-row flex-col items-center justify-between gap-2 animate-pulse delay-100">
    <!-- Bloc 1 -->
    <div class="flex flex-row justify-between w-full">
      <div class="flex flex-col gap-2">
        <div class="h-6 w-10 bg-gray-400 rounded-md"></div>
        <div class="h-4 w-32 rounded-md">Cours</div>
      </div>
      <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="38" height="38" rx="6" fill="#4B465C" fill-opacity="0.08" />
        <circle cx="19" cy="13.1667" r="4.66667" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <circle cx="19" cy="13.1667" r="4.66667" stroke="white" stroke-opacity="0.2" stroke-width="1.5"
          stroke-linecap="round" stroke-linejoin="round" />
        <path d="M12 29.5V27.1667C12 24.5893 14.0893 22.5 16.6667 22.5H21.3333C23.9107 22.5 26 24.5893 26 27.1667V29.5"
          stroke="#4B465C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M12 29.5V27.1667C12 24.5893 14.0893 22.5 16.6667 22.5H21.3333C23.9107 22.5 26 24.5893 26 27.1667V29.5"
          stroke="white" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
    </div>
    <div class="border-gray-400 block md:hidden border-t w-full"></div>
    <div class="hidden md:block border-l border-gray-400 h-20"></div>

    <!-- Bloc 2 -->
    <div class="flex flex-row justify-between w-full">
      <div class="flex flex-col gap-2">
        <div class="h-6 w-10 bg-gray-400 rounded-md"></div>
        <div class="h-4 rounded-md">Cours terminés</div>
      </div>
      <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="38" height="38" rx="6" fill="#4B465C" fill-opacity="0.08" />
        <path d="M21.3333 8.5V13.1667C21.3333 13.811 21.8556 14.3333 22.4999 14.3333H27.1666" stroke="#4B465C"
          stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M21.3333 8.5V13.1667C21.3333 13.811 21.8556 14.3333 22.4999 14.3333H27.1666" stroke="white"
          stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        <path fill-rule="evenodd" clip-rule="evenodd"
          d="M24.8333 29.5H13.1666C11.8779 29.5 10.8333 28.4553 10.8333 27.1667V10.8333C10.8333 9.54467 11.8779 8.5 13.1666 8.5H21.3333L27.1666 14.3333V27.1667C27.1666 28.4553 26.1219 29.5 24.8333 29.5Z"
          stroke="#4B465C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        <path fill-rule="evenodd" clip-rule="evenodd"
          d="M24.8333 29.5H13.1666C11.8779 29.5 10.8333 28.4553 10.8333 27.1667V10.8333C10.8333 9.54467 11.8779 8.5 13.1666 8.5H21.3333L27.1666 14.3333V27.1667C27.1666 28.4553 26.1219 29.5 24.8333 29.5Z"
          stroke="white" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M15.5 13.1663H16.6667" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M15.5 13.1663H16.6667" stroke="white" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M15.5 20.1663H22.5" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M15.5 20.1663H22.5" stroke="white" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M20.1667 24.8333H22.5001" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M20.1667 24.8333H22.5001" stroke="white" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </div>

    <div class="border-gray-400 block md:hidden border-t w-full"></div>
    <div class="hidden md:block border-l border-gray-400 h-20"></div>

    <!-- Bloc 3 -->
    <div class="flex flex-row justify-between w-full">
      <div class="flex flex-col gap-2">
        <div class="h-6 w-10 bg-gray-400 rounded-md"></div>
        <div class="h-4 rounded-md">Cours à venir</div>
      </div>
      <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="38" height="38" rx="6" fill="#4B465C" fill-opacity="0.08" />
        <path d="M13.1667 19.0003L19.0001 24.8337L30.6667 13.167" stroke="#4B465C" stroke-width="1.5"
          stroke-linecap="round" stroke-linejoin="round" />
        <path d="M13.1667 19.0003L19.0001 24.8337L30.6667 13.167" stroke="white" stroke-opacity="0.2" stroke-width="1.5"
          stroke-linecap="round" stroke-linejoin="round" />
        <path
          d="M7.86358 18.47C7.57069 18.1771 7.09582 18.1771 6.80292 18.47C6.51003 18.7629 6.51003 19.2378 6.80292 19.5307L7.86358 18.47ZM12.6363 25.364C12.9291 25.6569 13.404 25.6569 13.6969 25.364C13.9898 25.0711 13.9898 24.5962 13.6969 24.3033L12.6363 25.364ZM18.4696 18.47C18.1767 18.7629 18.1767 19.2378 18.4696 19.5307C18.7625 19.8235 19.2374 19.8235 19.5302 19.5307L18.4696 18.47ZM25.3636 13.6973C25.6565 13.4044 25.6565 12.9296 25.3636 12.6367C25.0707 12.3438 24.5958 12.3438 24.3029 12.6367L25.3636 13.6973ZM6.80292 19.5307L12.6363 25.364L13.6969 24.3033L7.86358 18.47L6.80292 19.5307ZM19.5302 19.5307L25.3636 13.6973L24.3029 12.6367L18.4696 18.47L19.5302 19.5307Z"
          fill="#4B465C" />
        <path
          d="M7.86358 18.47C7.57069 18.1771 7.09582 18.1771 6.80292 18.47C6.51003 18.7629 6.51003 19.2378 6.80292 19.5307L7.86358 18.47ZM12.6363 25.364C12.9291 25.6569 13.404 25.6569 13.6969 25.364C13.9898 25.0711 13.9898 24.5962 13.6969 24.3033L12.6363 25.364ZM18.4696 18.47C18.1767 18.7629 18.1767 19.2378 18.4696 19.5307C18.7625 19.8235 19.2374 19.8235 19.5302 19.5307L18.4696 18.47ZM25.3636 13.6973C25.6565 13.4044 25.6565 12.9296 25.3636 12.6367C25.0707 12.3438 24.5958 12.3438 24.3029 12.6367L25.3636 13.6973ZM6.80292 19.5307L12.6363 25.364L13.6969 24.3033L7.86358 18.47L6.80292 19.5307ZM19.5302 19.5307L25.3636 13.6973L24.3029 12.6367L18.4696 18.47L19.5302 19.5307Z"
          fill="white" fill-opacity="0.2" />
      </svg>
    </div>

    <div class="border-gray-400 block md:hidden border-t w-full"></div>
    <div class="hidden md:block border-l border-gray-400 h-20"></div>

    <!-- Bloc 4 -->
    <div class="flex flex-row justify-between w-full">
      <div class="flex flex-col gap-2">
        <div class="h-6 w-10 bg-gray-400 rounded-md"></div>
        <div class="h-4 rounded-md">Cours annulés</div>
      </div>
      <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="38" height="38" rx="6" fill="#4B465C" fill-opacity="0.08" />
        <path
          d="M27.7126 23.3814C27.5262 23.7513 27.675 24.2022 28.0449 24.3886C28.4148 24.575 28.8658 24.4262 29.0522 24.0563L27.7126 23.3814ZM13.9434 8.94753C13.5735 9.1339 13.4247 9.58486 13.6111 9.95478C13.7975 10.3247 14.2484 10.4735 14.6183 10.2871L13.9434 8.94753ZM12.1024 12.1086C12.3977 11.8181 12.4017 11.3433 12.1112 11.0479C11.8208 10.7526 11.3459 10.7487 11.0506 11.0391L12.1024 12.1086ZM26.9569 26.9516C27.2474 26.6564 27.2437 26.1815 26.9484 25.891C26.6532 25.6004 26.1784 25.6042 25.8878 25.8994L26.9569 26.9516ZM29.0522 24.0563C31.2366 19.7205 30.3932 14.4725 26.9602 11.0395L25.8996 12.1001C28.8748 15.0754 29.6058 19.6237 27.7126 23.3814L29.0522 24.0563ZM26.9602 11.0395C23.5272 7.60648 18.2792 6.76307 13.9434 8.94753L14.6183 10.2871C18.376 8.39391 22.9243 9.12487 25.8996 12.1001L26.9602 11.0395ZM11.0506 11.0391C8.16943 13.8726 7.02934 18.0338 8.06388 21.9402L9.51389 21.5562C8.61729 18.1706 9.60537 14.5643 12.1024 12.1086L11.0506 11.0391ZM8.06388 21.9402C9.09842 25.8466 12.1486 28.898 16.0546 29.9341L16.4392 28.4842C13.054 27.5863 10.4105 24.9417 9.51389 21.5562L8.06388 21.9402ZM16.0546 29.9341C19.9606 30.9701 24.1222 29.8317 26.9569 26.9516L25.8878 25.8994C23.4311 28.3955 19.8244 29.3821 16.4392 28.4842L16.0546 29.9341Z"
          fill="#4B465C" />
        <path
          d="M27.7126 23.3814C27.5262 23.7513 27.675 24.2022 28.0449 24.3886C28.4148 24.575 28.8658 24.4262 29.0522 24.0563L27.7126 23.3814ZM13.9434 8.94753C13.5735 9.1339 13.4247 9.58486 13.6111 9.95478C13.7975 10.3247 14.2484 10.4735 14.6183 10.2871L13.9434 8.94753ZM12.1024 12.1086C12.3977 11.8181 12.4017 11.3433 12.1112 11.0479C11.8208 10.7526 11.3459 10.7487 11.0506 11.0391L12.1024 12.1086ZM26.9569 26.9516C27.2474 26.6564 27.2437 26.1815 26.9484 25.891C26.6532 25.6004 26.1784 25.6042 25.8878 25.8994L26.9569 26.9516ZM29.0522 24.0563C31.2366 19.7205 30.3932 14.4725 26.9602 11.0395L25.8996 12.1001C28.8748 15.0754 29.6058 19.6237 27.7126 23.3814L29.0522 24.0563ZM26.9602 11.0395C23.5272 7.60648 18.2792 6.76307 13.9434 8.94753L14.6183 10.2871C18.376 8.39391 22.9243 9.12487 25.8996 12.1001L26.9602 11.0395ZM11.0506 11.0391C8.16943 13.8726 7.02934 18.0338 8.06388 21.9402L9.51389 21.5562C8.61729 18.1706 9.60537 14.5643 12.1024 12.1086L11.0506 11.0391ZM8.06388 21.9402C9.09842 25.8466 12.1486 28.898 16.0546 29.9341L16.4392 28.4842C13.054 27.5863 10.4105 24.9417 9.51389 21.5562L8.06388 21.9402ZM16.0546 29.9341C19.9606 30.9701 24.1222 29.8317 26.9569 26.9516L25.8878 25.8994C23.4311 28.3955 19.8244 29.3821 16.4392 28.4842L16.0546 29.9341Z"
          fill="white" fill-opacity="0.2" />
        <path d="M8.5 8.5L29.5 29.5" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M8.5 8.5L29.5 29.5" stroke="white" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </div>
  </div>

  <div *ngIf="!isLoadingStatistic"
    class="w-full min-h-30 bg-card text-primary-text shadow-lg rounded-lg p-4 flex md:flex-row flex-col items-center justify-between">
    <div class="flex flex-row justify-between w-full p-4">
      <div class="flex flex-col gap-2">
        <div class="font-bold">{{ appointmentsStatistic?.totalRdvs || 0 }}</div>
        <div>Cours</div>
      </div>
      <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="38" height="38" rx="6" fill="#4B465C" fill-opacity="0.08" />
        <circle cx="19" cy="13.1667" r="4.66667" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <circle cx="19" cy="13.1667" r="4.66667" stroke="white" stroke-opacity="0.2" stroke-width="1.5"
          stroke-linecap="round" stroke-linejoin="round" />
        <path d="M12 29.5V27.1667C12 24.5893 14.0893 22.5 16.6667 22.5H21.3333C23.9107 22.5 26 24.5893 26 27.1667V29.5"
          stroke="#4B465C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M12 29.5V27.1667C12 24.5893 14.0893 22.5 16.6667 22.5H21.3333C23.9107 22.5 26 24.5893 26 27.1667V29.5"
          stroke="white" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
    </div>

    <div class="border-gray-200 block md:hidden border-t w-full"></div>
    <div class="hidden md:block border-l border-gray-200 h-20"></div>

    <div class="flex flex-row justify-between w-full p-4">
      <div class="flex flex-col gap-2">
        <div class="font-bold">
          {{ appointmentsStatistic?.totalRdvsHonored || 0 }}
        </div>
        <div>Cours terminés</div>
      </div>
      <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="38" height="38" rx="6" fill="#4B465C" fill-opacity="0.08" />
        <path d="M21.3333 8.5V13.1667C21.3333 13.811 21.8556 14.3333 22.4999 14.3333H27.1666" stroke="#4B465C"
          stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M21.3333 8.5V13.1667C21.3333 13.811 21.8556 14.3333 22.4999 14.3333H27.1666" stroke="white"
          stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        <path fill-rule="evenodd" clip-rule="evenodd"
          d="M24.8333 29.5H13.1666C11.8779 29.5 10.8333 28.4553 10.8333 27.1667V10.8333C10.8333 9.54467 11.8779 8.5 13.1666 8.5H21.3333L27.1666 14.3333V27.1667C27.1666 28.4553 26.1219 29.5 24.8333 29.5Z"
          stroke="#4B465C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        <path fill-rule="evenodd" clip-rule="evenodd"
          d="M24.8333 29.5H13.1666C11.8779 29.5 10.8333 28.4553 10.8333 27.1667V10.8333C10.8333 9.54467 11.8779 8.5 13.1666 8.5H21.3333L27.1666 14.3333V27.1667C27.1666 28.4553 26.1219 29.5 24.8333 29.5Z"
          stroke="white" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M15.5 13.1663H16.6667" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M15.5 13.1663H16.6667" stroke="white" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M15.5 20.1663H22.5" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M15.5 20.1663H22.5" stroke="white" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M20.1667 24.8333H22.5001" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M20.1667 24.8333H22.5001" stroke="white" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </div>

    <div class="border-gray-200 block md:hidden border-t w-full"></div>
    <div class="hidden md:block border-l border-gray-200 h-20"></div>

    <div class="flex flex-row justify-between w-full p-4">
      <div class="flex flex-col gap-2">
        <div class="font-bold">{{ appointmentsStatistic?.totalRdvsToCome || 0 }}</div>
        <div>Cours planifiés</div>
      </div>
      <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="38" height="38" rx="6" fill="#4B465C" fill-opacity="0.08" />
        <path d="M13.1667 19.0003L19.0001 24.8337L30.6667 13.167" stroke="#4B465C" stroke-width="1.5"
          stroke-linecap="round" stroke-linejoin="round" />
        <path d="M13.1667 19.0003L19.0001 24.8337L30.6667 13.167" stroke="white" stroke-opacity="0.2" stroke-width="1.5"
          stroke-linecap="round" stroke-linejoin="round" />
        <path
          d="M7.86358 18.47C7.57069 18.1771 7.09582 18.1771 6.80292 18.47C6.51003 18.7629 6.51003 19.2378 6.80292 19.5307L7.86358 18.47ZM12.6363 25.364C12.9291 25.6569 13.404 25.6569 13.6969 25.364C13.9898 25.0711 13.9898 24.5962 13.6969 24.3033L12.6363 25.364ZM18.4696 18.47C18.1767 18.7629 18.1767 19.2378 18.4696 19.5307C18.7625 19.8235 19.2374 19.8235 19.5302 19.5307L18.4696 18.47ZM25.3636 13.6973C25.6565 13.4044 25.6565 12.9296 25.3636 12.6367C25.0707 12.3438 24.5958 12.3438 24.3029 12.6367L25.3636 13.6973ZM6.80292 19.5307L12.6363 25.364L13.6969 24.3033L7.86358 18.47L6.80292 19.5307ZM19.5302 19.5307L25.3636 13.6973L24.3029 12.6367L18.4696 18.47L19.5302 19.5307Z"
          fill="#4B465C" />
        <path
          d="M7.86358 18.47C7.57069 18.1771 7.09582 18.1771 6.80292 18.47C6.51003 18.7629 6.51003 19.2378 6.80292 19.5307L7.86358 18.47ZM12.6363 25.364C12.9291 25.6569 13.404 25.6569 13.6969 25.364C13.9898 25.0711 13.9898 24.5962 13.6969 24.3033L12.6363 25.364ZM18.4696 18.47C18.1767 18.7629 18.1767 19.2378 18.4696 19.5307C18.7625 19.8235 19.2374 19.8235 19.5302 19.5307L18.4696 18.47ZM25.3636 13.6973C25.6565 13.4044 25.6565 12.9296 25.3636 12.6367C25.0707 12.3438 24.5958 12.3438 24.3029 12.6367L25.3636 13.6973ZM6.80292 19.5307L12.6363 25.364L13.6969 24.3033L7.86358 18.47L6.80292 19.5307ZM19.5302 19.5307L25.3636 13.6973L24.3029 12.6367L18.4696 18.47L19.5302 19.5307Z"
          fill="white" fill-opacity="0.2" />
      </svg>
    </div>

    <div class="border-gray-200 block md:hidden border-t w-full"></div>
    <div class="hidden md:block border-l border-gray-200 h-20"></div>

    <div class="flex flex-row justify-between w-full p-4">
      <div class="flex flex-col gap-2">
        <div class="font-bold">
          {{ appointmentsStatistic?.totalRdvsCanceled || 0 }}
        </div>
        <div>Cours annulés</div>
      </div>
      <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="38" height="38" rx="6" fill="#4B465C" fill-opacity="0.08" />
        <path
          d="M27.7126 23.3814C27.5262 23.7513 27.675 24.2022 28.0449 24.3886C28.4148 24.575 28.8658 24.4262 29.0522 24.0563L27.7126 23.3814ZM13.9434 8.94753C13.5735 9.1339 13.4247 9.58486 13.6111 9.95478C13.7975 10.3247 14.2484 10.4735 14.6183 10.2871L13.9434 8.94753ZM12.1024 12.1086C12.3977 11.8181 12.4017 11.3433 12.1112 11.0479C11.8208 10.7526 11.3459 10.7487 11.0506 11.0391L12.1024 12.1086ZM26.9569 26.9516C27.2474 26.6564 27.2437 26.1815 26.9484 25.891C26.6532 25.6004 26.1784 25.6042 25.8878 25.8994L26.9569 26.9516ZM29.0522 24.0563C31.2366 19.7205 30.3932 14.4725 26.9602 11.0395L25.8996 12.1001C28.8748 15.0754 29.6058 19.6237 27.7126 23.3814L29.0522 24.0563ZM26.9602 11.0395C23.5272 7.60648 18.2792 6.76307 13.9434 8.94753L14.6183 10.2871C18.376 8.39391 22.9243 9.12487 25.8996 12.1001L26.9602 11.0395ZM11.0506 11.0391C8.16943 13.8726 7.02934 18.0338 8.06388 21.9402L9.51389 21.5562C8.61729 18.1706 9.60537 14.5643 12.1024 12.1086L11.0506 11.0391ZM8.06388 21.9402C9.09842 25.8466 12.1486 28.898 16.0546 29.9341L16.4392 28.4842C13.054 27.5863 10.4105 24.9417 9.51389 21.5562L8.06388 21.9402ZM16.0546 29.9341C19.9606 30.9701 24.1222 29.8317 26.9569 26.9516L25.8878 25.8994C23.4311 28.3955 19.8244 29.3821 16.4392 28.4842L16.0546 29.9341Z"
          fill="#4B465C" />
        <path
          d="M27.7126 23.3814C27.5262 23.7513 27.675 24.2022 28.0449 24.3886C28.4148 24.575 28.8658 24.4262 29.0522 24.0563L27.7126 23.3814ZM13.9434 8.94753C13.5735 9.1339 13.4247 9.58486 13.6111 9.95478C13.7975 10.3247 14.2484 10.4735 14.6183 10.2871L13.9434 8.94753ZM12.1024 12.1086C12.3977 11.8181 12.4017 11.3433 12.1112 11.0479C11.8208 10.7526 11.3459 10.7487 11.0506 11.0391L12.1024 12.1086ZM26.9569 26.9516C27.2474 26.6564 27.2437 26.1815 26.9484 25.891C26.6532 25.6004 26.1784 25.6042 25.8878 25.8994L26.9569 26.9516ZM29.0522 24.0563C31.2366 19.7205 30.3932 14.4725 26.9602 11.0395L25.8996 12.1001C28.8748 15.0754 29.6058 19.6237 27.7126 23.3814L29.0522 24.0563ZM26.9602 11.0395C23.5272 7.60648 18.2792 6.76307 13.9434 8.94753L14.6183 10.2871C18.376 8.39391 22.9243 9.12487 25.8996 12.1001L26.9602 11.0395ZM11.0506 11.0391C8.16943 13.8726 7.02934 18.0338 8.06388 21.9402L9.51389 21.5562C8.61729 18.1706 9.60537 14.5643 12.1024 12.1086L11.0506 11.0391ZM8.06388 21.9402C9.09842 25.8466 12.1486 28.898 16.0546 29.9341L16.4392 28.4842C13.054 27.5863 10.4105 24.9417 9.51389 21.5562L8.06388 21.9402ZM16.0546 29.9341C19.9606 30.9701 24.1222 29.8317 26.9569 26.9516L25.8878 25.8994C23.4311 28.3955 19.8244 29.3821 16.4392 28.4842L16.0546 29.9341Z"
          fill="white" fill-opacity="0.2" />
        <path d="M8.5 8.5L29.5 29.5" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M8.5 8.5L29.5 29.5" stroke="white" stroke-opacity="0.2" stroke-width="1.5" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </div>
  </div>

  <div class="flex flex-col min-h-100 bg-card text-primary-text shadow-lg rounded-lg p-4 gap-4 w-full">
    <div class="flex md:flex-row justify-between flex-col gap-2 items-center">
      <div class="flex flex-row gap-2">
        <select id="perPage" [(ngModel)]="limit"
          class="px-4 py-2 border border-gray-400 rounded-lg focus:ring-1 focus:ring-primary-500"
          (change)="getAppointmentsList(page, limit)">
          <option selected value="10">10</option>
          <option value="25">25</option>
          <option value="50">50</option>
        </select>
        <button *ngIf="abonnementStatus" class="bg-primary-500 rounded-lg px-4 py-2 cursor-pointer"
          (click)="openCreateRdvDialog()">
          <div class="flex flex-row items-center gap-2">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 3.75V14.25" stroke="white" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round" />
              <path d="M3.75 9H14.25" stroke="white" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>
            <div class="text-white">Nouveau</div>
          </div>
        </button>
      </div>
      <div class="flex md:flex-row flex-col gap-2 items-center">
        <mat-form-field class="create-rdv-choose-date">
          <mat-label>Choisir une date</mat-label>
          <input matInput [matDatepicker]="picker" [(ngModel)]="selectedDate" (dateChange)="onDateChange($event)" />
          <mat-datepicker-toggle matIconSuffix [for]="picker">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M19 22H5C3.89543 22 3 21.1046 3 20V6C3 4.89543 3.89543 4 5 4H7V2H9V4H15V2H17V4H19C20.1046 4 21 4.89543 21 6V20C21 21.1046 20.1046 22 19 22ZM5 10V20H19V10H5ZM5 6V8H19V6H5ZM17 18H15V16H17V18ZM13 18H11V16H13V18ZM9 18H7V16H9V18ZM17 14H15V12H17V14ZM13 14H11V12H13V14ZM9 14H7V12H9V14Z"
                fill="#323232" />
            </svg>
          </mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

        <select id="status" class="px-4 py-2 border rounded-lg focus:ring-1 transition-colors duration-200"
          [(ngModel)]="actualStatus" [ngModelOptions]="{ standalone: true }"
          (change)="getAppointmentsList(page, limit)">
          <option value="" selected>Tous</option>
          <option value="terminated">Terminé</option>
          <option value="in_progress">Confirmé</option>
          <option value="rescheduled">Reprogrammé</option>
          <option value="canceled">Annulé</option>
          <option value="pending">En attente</option>
        </select>
      </div>
    </div>

    <div class="flex flex-col gap-2 bg-card text-primary-text">
      <div class="overflow-x-auto">
        <table class="min-w-full border-collapse custom-table">
          <thead>
            <tr class="border-y border-gray-400 bg-card text-primary-text">
              <th class="p-3 text-left">ID</th>
              <th class="p-3 text-left">MATIÈRE</th>
              <th class="p-3 text-left">CLASSE</th>
              <th class="p-3 text-left">ENSEIGNANT</th>
              <th class="p-3 text-left">DÉBUT</th>
              <th class="p-3 text-left">FIN</th>
              <th class="p-3 text-left">DATE</th>
              <th class="p-3 text-left">STATUT</th>
              <th class="p-3 text-left">ACTIONS</th>
            </tr>
          </thead>

          <tbody *ngIf="isAppointmentsLoading" class="bg-card text-primary-text">
            <!-- Skeleton Loader -->
            <tr *ngFor="let item of [].constructor(5)" class="border-b border-gray-400">
              <td class="p-3">
                <div class="h-4 w-10 bg-gray-200 animate-pulse rounded"></div>
              </td>
              <td class="p-3">
                <div class="h-4 w-24 bg-gray-200 animate-pulse rounded"></div>
              </td>
              <td class="p-3">
                <div class="h-4 w-16 bg-gray-200 animate-pulse rounded"></div>
              </td>
              <td class="p-3">
                <div class="h-4 w-24 bg-gray-200 animate-pulse rounded"></div>
              </td>
              <td class="p-3">
                <div class="h-4 w-16 bg-gray-200 animate-pulse rounded"></div>
              </td>
              <td class="p-3">
                <div class="h-4 w-16 bg-gray-200 animate-pulse rounded"></div>
              </td>
              <td class="p-3">
                <div class="h-4 w-20 bg-gray-200 animate-pulse rounded"></div>
              </td>
              <td class="p-3">
                <div class="h-4 w-16 bg-gray-200 animate-pulse rounded"></div>
              </td>
              <td class="p-3">
                <div class="flex gap-2">
                  <div class="h-6 w-6 bg-gray-200 animate-pulse rounded-full"></div>
                  <div class="h-6 w-6 bg-gray-200 animate-pulse rounded-full"></div>
                </div>
              </td>
            </tr>
          </tbody>
          <tbody *ngIf="!isAppointmentsLoading && appointmentsList?.length > 0" class="bg-card text-primary-text">
            <tr *ngFor="let appointment of appointmentsList" class="border-b border-gray-400 text-md">
              <td class="p-3">
                {{ appointment.id }}
              </td>
              <td class="p-3">
                {{ appointment.subject_name || appointment.title }}
              </td>
              <td class="p-3">
                {{ appointment.class_name }}
              </td>
              <td class="p-3">
                {{ appointment.teacher_name }}
              </td>
              <td class="p-3">
                {{ appointment.start_time }}
              </td>
              <td class="p-3">
                {{ appointment.end_time }}
              </td>
              <td class="p-3">
                {{ appointment.scheduled_date | date : "dd/MM/yyyy" }}
              </td>
              <td class="p-3">
                <div class="text-center rounded py-2 w-25 flex flex-row items-center px-1 justify-center gap-1"
                  [ngClass]="getStatusClass(appointment.status)">
                  {{ getFormatedStatus(appointment.status) }}
                </div>
              </td>
              <td class="p-3">
                <div class="flex gap-2">
                  <div class="cursor-pointer" (click)="goToDetails(appointment.id)">
                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="11" cy="11" r="1.83" stroke="#4B465C" stroke-width="1.5" />
                      <path
                        d="M20.17 11C17.72 15.28 14.67 17.42 11 17.42C7.33 17.42 4.28 15.28 1.83 11C4.28 6.72 7.33 4.58 11 4.58C14.67 4.58 17.72 6.72 20.17 11"
                        stroke="#4B465C" stroke-width="1.5" />
                    </svg>
                  </div>
                  <div class="cursor-pointer">
                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="11" cy="11" r="0.92" stroke="#4B465C" stroke-width="1.5" />
                      <circle cx="11" cy="17.42" r="0.92" stroke="#4B465C" stroke-width="1.5" />
                      <ellipse cx="11" cy="4.58" rx="0.92" ry="0.92" stroke="#4B465C" stroke-width="1.5" />
                    </svg>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div *ngIf="!isAppointmentsLoading && appointmentsList.length > 0"
        class="flex flex-row md:justify-end justify-center gap-1 m-4">
        <button class="hidden md:block px-4 py-2 rounded-lg bg-primary-500 text-white cursor-pointer">
          Précédent
        </button>
        <button class="md:hidden px-4 py-2 rounded-lg bg-primary-500 text-white cursor-pointer">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1265_7706)">
              <path
                d="M17.5098 3.8701L15.7298 2.1001L5.83984 12.0001L15.7398 21.9001L17.5098 20.1301L9.37984 12.0001L17.5098 3.8701Z"
                fill="currentColor" />
            </g>
            <defs>
              <clipPath id="clip0_1265_7706">
                <rect width="24" height="24" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </button>
        <button class="rounded-lg px-4 bg-[#4B465C29] cursor-pointer"
          [ngClass]="{ 'bg-primary-500  text-white': isSelectedPage(i + 1) }"
          *ngFor="let pageNumber of [].constructor(totalPages); let i = index" (click)="changePage(i + 1)">
          {{ i + 1 }}
        </button>
        <button class="hidden md:block px-4 py-2 rounded-lg bg-primary-500 text-white cursor-pointer">
          Suivant
        </button>
        <button class="md:hidden px-4 py-2 rounded-lg bg-primary-500 text-white cursor-pointer">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1265_7724)">
              <path
                d="M6.49023 20.1301L8.26023 21.9001L18.1602 12.0001L8.26023 2.1001L6.49023 3.8701L14.6202 12.0001L6.49023 20.1301Z"
                fill="currentColor" />
            </g>
            <defs>
              <clipPath id="clip0_1265_7724">
                <rect width="24" height="24" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </button>
      </div>
      <div *ngIf="!isAppointmentsLoading && appointmentsList.length == 0"
        class="flex flex-col w-full items-center justify-center gap-2 my-4">
        <svg width="100" height="100" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M19 22H5C3.89543 22 3 21.1046 3 20V6C3 4.89543 3.89543 4 5 4H7V2H9V4H15V2H17V4H19C20.1046 4 21 4.89543 21 6V20C21 21.1046 20.1046 22 19 22ZM5 10V20H19V10H5ZM5 6V8H19V6H5ZM17 18H15V16H17V18ZM13 18H11V16H13V18ZM9 18H7V16H9V18ZM17 14H15V12H17V14ZM13 14H11V12H13V14ZM9 14H7V12H9V14Z"
            fill="#707070" />
        </svg>

        <p class="text-gray-400">Pas de rendez-vous</p>
      </div>
    </div>
  </div>
</div>