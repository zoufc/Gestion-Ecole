<div class="flex h-screen w-full gap-3 p-2 box-border">
  <!-- Sidebar -->
  <div
    class="box-shadow-xl fixed md:relative top-0 left-0 h-full bg-card text-primary-text z-50 w-64 rounded-lg transform transition-transform duration-300 ease-in-out md:translate-x-0"
    [class.-translate-x-full]="!isSidebarOpen && !isMdAndAbove()"
    [class.translate-x-0]="isSidebarOpen || isMdAndAbove()">
    <div class="flex items-center justify-between h-24 px-4">
      <!-- Sidebar Toggle Icon (visible below md) -->
      <button class="md:hidden text-2xl p-2 rounded focus:outline-none" (click)="toggleSidebar()">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
        </svg>
      </button>
      <!-- Enlarged Logo -->

      <!-- Logo principal (desktop) -->
      <img [src]="currentThemeImage()" alt="Logo Gestion Ã‰cole" class="object-contain h-24 w-auto hidden md:block" />

      <!-- Logo mobile -->
      <img [src]="logoConfig.mobile" alt="Logo Gestion Ã‰cole" class="inline-block md:hidden object-contain h-16 w-auto" />
    </div>
    <ul class="mt-8">
      <li *ngIf="isOwner()" routerLink="overview" routerLinkActive="bg-primary-500  text-white"
        [routerLinkActiveOptions]="{ exact: true }"
        class="px-6 py-2 mx-2 flex flex-row gap-2 rounded cursor-pointer hover:bg-[#d0cbcb] text-side-bar-color hover:text-white"
        (click)="toggleSidebar()">
        <svg class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M19 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21ZM5 5V19H19V5H5ZM17 17H15V10H17V17ZM13 17H11V7H13V17ZM9 17H7V12H9V17Z"
            fill="currentColor" />
        </svg>
        Vue d'ensemble
      </li>

      <!-- Section Gestion -->
      <div class="m-8 mb-2 text-[#707070]">Gestion</div>

      <!-- Cours -->
      <li routerLink="courses" routerLinkActive="bg-primary-500  text-white"
        [routerLinkActiveOptions]="{ exact: false }"
        class="px-6 py-2 mx-2 flex flex-row gap-2 rounded cursor-pointer hover:bg-[#d0cbcb] text-side-bar-color hover:text-white"
        (click)="toggleSidebar()">
        <div class="flex flex-row items-center gap-2">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C19.9939 15.5203 15.5203 19.9939 10 20ZM10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10C17.995 5.58378 14.4162 2.00496 10 2ZM15 11H9V5H11V9H15V11Z"
              fill="currentColor" />
          </svg>

          <div>Cours</div>
        </div>
      </li>


      <!-- Management -->
      <li *ngIf="isOwner()" (click)="toggleDropdown('management')"
        class="px-6 py-2 mx-2 flex flex-row items-center justify-between rounded cursor-pointer hover:bg-[#d0cbcb] text-side-bar-color hover:text-white">
        <div class="flex items-center gap-2">
          <svg class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1265_5282)">
              <path d="M7 7H17V10L21 6L17 2V5H5V11H7V7ZM17 17H7V14L3 18L7 22V19H19V13H17V17Z" fill="currentColor" />
            </g>
            <defs>
              <clipPath id="clip0_1265_5282">
                <rect width="24" height="24" fill="white" />
              </clipPath>
            </defs>
          </svg>
          Management
        </div>
        <svg [ngClass]="{ 'rotate-180': dropdowns.management }" class="h-4 w-4 transition-transform" viewBox="0 0 20 20"
          fill="currentColor">
          <path fill-rule="evenodd"
            d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
            clip-rule="evenodd" />
        </svg>
      </li>
      <ul *ngIf="dropdowns.management" class="ml-8 space-y-2">
        <li routerLink="classes" routerLinkActive="text-primary-500 "
          class="cursor-pointer text-side-bar-color hover:text-primary-500 ml-4" (click)="toggleSidebar()">
          <div class="flex flex-row gap-2 items-center">
            <svg width="22" height="10" viewBox="0 0 22 10" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <circle cx="11" cy="5" r="3.75" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round" />
              <circle cx="11" cy="5" r="3.75" stroke="white" stroke-opacity="0.5" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <div>Classes</div>
          </div>
        </li>
        <li routerLink="subjects" routerLinkActive="text-primary-500 "
          class="cursor-pointer text-side-bar-color hover:text-primary-500 ml-4" (click)="toggleSidebar()">
          <div class="flex flex-row gap-2 items-center">
            <svg width="22" height="10" viewBox="0 0 22 10" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <circle cx="11" cy="5" r="3.75" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round" />
              <circle cx="11" cy="5" r="3.75" stroke="white" stroke-opacity="0.5" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <div>MatiÃ¨res</div>
          </div>
        </li>
        <li routerLink="teachers" routerLinkActive="text-primary-500 "
          class="cursor-pointer text-side-bar-color hover:text-primary-500 ml-4" (click)="toggleSidebar()">
          <div class="flex flex-row gap-2 items-center">
            <svg width="22" height="10" viewBox="0 0 22 10" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <circle cx="11" cy="5" r="3.75" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
                stroke-linejoin="round" />
              <circle cx="11" cy="5" r="3.75" stroke="white" stroke-opacity="0.5" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <div>Enseignants</div>
          </div>
        </li>
      </ul>

      <!-- Clients -->
      <!-- <li (click)="toggleDropdown('clients')"
                class="px-6 py-2 mx-2 flex flex-row items-center justify-between rounded cursor-pointer hover:bg-[#d0cbcb] hover:text-white">
                <div class="flex items-center gap-2">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M8.99951 3C6.23809 3 3.99951 5.23858 3.99951 8C3.99951 10.7614 6.23809 13 8.99951 13C11.7609 13 13.9995 10.7614 13.9995 8C13.9995 5.23858 11.7609 3 8.99951 3ZM5.99951 8C5.99951 6.34315 7.34266 5 8.99951 5C10.6564 5 11.9995 6.34315 11.9995 8C11.9995 9.65685 10.6564 11 8.99951 11C7.34266 11 5.99951 9.65685 5.99951 8Z"
                            fill="currentColor" />
                        <path
                            d="M16.9079 8.21828C16.6266 8.07484 16.3153 8.00006 15.9995 8.00006V6.00006C16.6311 6.00006 17.2537 6.14956 17.8164 6.43645C17.8784 6.46805 17.9394 6.50121 17.9995 6.5359C18.4849 6.81614 18.9067 7.19569 19.2368 7.65055C19.6078 8.16172 19.8524 8.75347 19.9508 9.37737C20.0491 10.0013 19.9982 10.6396 19.8024 11.2401C19.6066 11.8405 19.2714 12.3861 18.8242 12.8321C18.377 13.2782 17.8306 13.6119 17.2296 13.8062C16.6948 13.979 16.1303 14.037 15.5731 13.9772C15.5041 13.9698 15.4352 13.9606 15.3665 13.9496C14.7433 13.8497 14.1526 13.6038 13.6426 13.2319L13.6416 13.2311L14.8206 11.6156C15.0756 11.8017 15.3712 11.9248 15.683 11.9747C15.9948 12.0247 16.314 12.0001 16.6145 11.903C16.915 11.8059 17.1882 11.639 17.4118 11.416C17.6354 11.193 17.803 10.9202 17.9009 10.62C17.9988 10.3198 18.0242 10.0006 17.9751 9.68869C17.9259 9.37675 17.8036 9.08089 17.6181 8.82531C17.4326 8.56974 17.1893 8.36172 16.9079 8.21828Z"
                            fill="currentColor" />
                        <path
                            d="M19.9976 21C19.9976 20.475 19.8942 19.9551 19.6933 19.47C19.4924 18.9849 19.1979 18.5442 18.8266 18.1729C18.4553 17.8017 18.0146 17.5072 17.5295 17.3062C17.0444 17.1053 16.5245 17.0019 15.9995 17.0019V15C16.6816 15 17.3579 15.1163 17.9995 15.3431C18.0991 15.3783 18.1978 15.4162 18.2956 15.4567C19.0236 15.7583 19.685 16.2002 20.2422 16.7574C20.7993 17.3145 21.2413 17.9759 21.5428 18.7039C21.5833 18.8017 21.6212 18.9004 21.6564 19C21.8832 19.6416 21.9995 20.3179 21.9995 21H19.9976Z"
                            fill="currentColor" />
                        <path
                            d="M15.9995 21H13.9995C13.9995 18.2386 11.7609 16 8.99951 16C6.23809 16 3.99951 18.2386 3.99951 21H1.99951C1.99951 17.134 5.13352 14 8.99951 14C12.8655 14 15.9995 17.134 15.9995 21Z"
                            fill="currentColor" />
                    </svg>


                    Clients
                </div>
                <svg [ngClass]="{'rotate-180': dropdowns.clients}" class="h-4 w-4 transition-transform"
                    viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd"
                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                        clip-rule="evenodd" />
                </svg>
            </li> -->
      <!-- <ul *ngIf="dropdowns.clients" class="ml-8 space-y-2">
                <li routerLink="customers" routerLinkActive="text-primary-500 "
                    class="cursor-pointer hover:text-primary-500  ml-4">
                    <div class="flex flex-row gap-2 items-center">
                        <svg width="22" height="10" viewBox="0 0 22 10" fill="currentColor"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="11" cy="5" r="3.75" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <circle cx="11" cy="5" r="3.75" stroke="white" stroke-opacity="0.5" stroke-width="1.5"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        <div>Visiteurs</div>
                    </div>
                </li>
                <li routerLink="personnels" routerLinkActive="text-primary-500 "
                    class="cursor-pointer hover:text-primary-500  ml-4">
                    <div class="flex flex-row gap-2 items-center">
                        <svg width="22" height="10" viewBox="0 0 22 10" fill="currentColor"
                            xmlns="http://www.w3.org/2000/svg">
                            <circle cx="11" cy="5" r="3.75" stroke="#4B465C" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <circle cx="11" cy="5" r="3.75" stroke="white" stroke-opacity="0.5" stroke-width="1.5"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        <div>Services</div>
                    </div>
                </li>
            </ul> -->

      <!-- Ã‰lÃ¨ves -->

      <li *ngIf="isOwner()" routerLink="students" routerLinkActive="bg-primary-500  text-white"
        [routerLinkActiveOptions]="{ exact: true }"
        class="px-6 py-2 mx-2 flex flex-row gap-2 rounded cursor-pointer hover:bg-[#d0cbcb] text-side-bar-color hover:text-white"
        (click)="toggleSidebar()">
        <div class="flex flex-row items-center gap-2">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M8.99951 3C6.23809 3 3.99951 5.23858 3.99951 8C3.99951 10.7614 6.23809 13 8.99951 13C11.7609 13 13.9995 10.7614 13.9995 8C13.9995 5.23858 11.7609 3 8.99951 3ZM5.99951 8C5.99951 6.34315 7.34266 5 8.99951 5C10.6564 5 11.9995 6.34315 11.9995 8C11.9995 9.65685 10.6564 11 8.99951 11C7.34266 11 5.99951 9.65685 5.99951 8Z"
              fill="currentColor" />
            <path
              d="M16.9079 8.21828C16.6266 8.07484 16.3153 8.00006 15.9995 8.00006V6.00006C16.6311 6.00006 17.2537 6.14956 17.8164 6.43645C17.8784 6.46805 17.9394 6.50121 17.9995 6.5359C18.4849 6.81614 18.9067 7.19569 19.2368 7.65055C19.6078 8.16172 19.8524 8.75347 19.9508 9.37737C20.0491 10.0013 19.9982 10.6396 19.8024 11.2401C19.6066 11.8405 19.2714 12.3861 18.8242 12.8321C18.377 13.2782 17.8306 13.6119 17.2296 13.8062C16.6948 13.979 16.1303 14.037 15.5731 13.9772C15.5041 13.9698 15.4352 13.9606 15.3665 13.9496C14.7433 13.8497 14.1526 13.6038 13.6426 13.2319L13.6416 13.2311L14.8206 11.6156C15.0756 11.8017 15.3712 11.9248 15.683 11.9747C15.9948 12.0247 16.314 12.0001 16.6145 11.903C16.915 11.8059 17.1882 11.639 17.4118 11.416C17.6354 11.193 17.803 10.9202 17.9009 10.62C17.9988 10.3198 18.0242 10.0006 17.9751 9.68869C17.9259 9.37675 17.8036 9.08089 17.6181 8.82531C17.4326 8.56974 17.1893 8.36172 16.9079 8.21828Z"
              fill="currentColor" />
            <path
              d="M19.9976 21C19.9976 20.475 19.8942 19.9551 19.6933 19.47C19.4924 18.9849 19.1979 18.5442 18.8266 18.1729C18.4553 17.8017 18.0146 17.5072 17.5295 17.3062C17.0444 17.1053 16.5245 17.0019 15.9995 17.0019V15C16.6816 15 17.3579 15.1163 17.9995 15.3431C18.0991 15.3783 18.1978 15.4162 18.2956 15.4567C19.0236 15.7583 19.685 16.2002 20.2422 16.7574C20.7993 17.3145 21.2413 17.9759 21.5428 18.7039C21.5833 18.8017 21.6212 18.9004 21.6564 19C21.8832 19.6416 21.9995 20.3179 21.9995 21H19.9976Z"
              fill="currentColor" />
            <path
              d="M15.9995 21H13.9995C13.9995 18.2386 11.7609 16 8.99951 16C6.23809 16 3.99951 18.2386 3.99951 21H1.99951C1.99951 17.134 5.13352 14 8.99951 14C12.8655 14 15.9995 17.134 15.9995 21Z"
              fill="currentColor" />
          </svg>

          <div>Ã‰lÃ¨ves</div>
        </div>
      </li>

      <!-- Paiements -->
      <li *ngIf="isOwner()" routerLink="payments" routerLinkActive="bg-primary-500  text-white"
        [routerLinkActiveOptions]="{ exact: true }"
        class="px-6 py-2 mx-2 flex flex-row gap-2 rounded cursor-pointer hover:bg-[#d0cbcb] text-side-bar-color hover:text-white"
        (click)="toggleSidebar()">
        <div class="flex flex-row items-center gap-2">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 18H4V8H20V18ZM17.5 12C17.5 12.83 16.83 13.5 16 13.5C15.17 13.5 14.5 12.83 14.5 12C14.5 11.17 15.17 10.5 16 10.5C16.83 10.5 17.5 11.17 17.5 12Z"
              fill="currentColor"
            />
          </svg>
          <div>Paiements</div>
        </div>
      </li>

      <!-- Notes -->
      <li *ngIf="isOwner()" routerLink="grades" routerLinkActive="bg-primary-500  text-white"
        [routerLinkActiveOptions]="{ exact: true }"
        class="px-6 py-2 mx-2 flex flex-row gap-2 rounded cursor-pointer hover:bg-[#d0cbcb] text-side-bar-color hover:text-white"
        (click)="toggleSidebar()">
        <div class="flex flex-row items-center gap-2">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM17 12H7V10H17V12ZM15 16H7V14H15V16ZM17 8H7V6H17V8Z" fill="currentColor"/>
          </svg>
          <div>Notes</div>
        </div>
      </li>

      <!-- Calendrier -->
      <li routerLink="calendar" routerLinkActive="bg-primary-500  text-white"
        [routerLinkActiveOptions]="{ exact: true }"
        class="px-6 py-2 mx-2 flex flex-row gap-2 rounded cursor-pointer hover:bg-[#d0cbcb] text-side-bar-color hover:text-white"
        (click)="toggleSidebar()">
        <div class="flex flex-row items-center gap-2">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M19 22H5C3.89543 22 3 21.1046 3 20V6C3 4.89543 3.89543 4 5 4H7V2H9V4H15V2H17V4H19C20.1046 4 21 4.89543 21 6V20C21 21.1046 20.1046 22 19 22ZM5 10V20H19V10H5ZM5 6V8H19V6H5ZM17 18H15V16H17V18ZM13 18H11V16H13V18ZM9 18H7V16H9V18ZM17 14H15V12H17V14ZM13 14H11V12H13V14ZM9 14H7V12H9V14Z"
              fill="currentColor" />
          </svg>
          <div>Calendrier</div>
        </div>
      </li>

      <!-- ParamÃ¨tres -->
      <li routerLink="settings" routerLinkActive="bg-primary-500  text-white"
        [routerLinkActiveOptions]="{ exact: false }"
        class="px-6 py-2 mx-2 flex flex-row gap-2 rounded cursor-pointer hover:bg-[#d0cbcb] text-side-bar-color hover:text-white"
        (click)="toggleSidebar()">
        <div class="flex flex-row items-center gap-2">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M13.82 22H10.18C9.71016 22 9.3036 21.673 9.20304 21.214L8.79604 19.33C8.25309 19.0921 7.73827 18.7946 7.26104 18.443L5.42404 19.028C4.97604 19.1709 4.48903 18.9823 4.25404 18.575L2.43004 15.424C2.19763 15.0165 2.2777 14.5025 2.62304 14.185L4.04804 12.885C3.98324 12.2961 3.98324 11.7019 4.04804 11.113L2.62304 9.816C2.27719 9.49837 2.19709 8.98372 2.43004 8.576L4.25004 5.423C4.48503 5.0157 4.97204 4.82714 5.42004 4.97L7.25704 5.555C7.5011 5.37416 7.75517 5.20722 8.01804 5.055C8.27038 4.91269 8.53008 4.78385 8.79604 4.669L9.20404 2.787C9.30411 2.32797 9.71023 2.00049 10.18 2H13.82C14.2899 2.00049 14.696 2.32797 14.796 2.787L15.208 4.67C15.4888 4.79352 15.7623 4.93308 16.027 5.088C16.274 5.23081 16.5127 5.38739 16.742 5.557L18.58 4.972C19.0277 4.82967 19.5142 5.01816 19.749 5.425L21.569 8.578C21.8015 8.98548 21.7214 9.49951 21.376 9.817L19.951 11.117C20.0158 11.7059 20.0158 12.3001 19.951 12.889L21.376 14.189C21.7214 14.5065 21.8015 15.0205 21.569 15.428L19.749 18.581C19.5142 18.9878 19.0277 19.1763 18.58 19.034L16.742 18.449C16.5095 18.6203 16.2678 18.7789 16.018 18.924C15.7559 19.0759 15.4854 19.2131 15.208 19.335L14.796 21.214C14.6956 21.6726 14.2895 21.9996 13.82 22ZM7.62004 16.229L8.44004 16.829C8.62489 16.9652 8.81755 17.0904 9.01704 17.204C9.20474 17.3127 9.39801 17.4115 9.59604 17.5L10.529 17.909L10.986 20H13.016L13.473 17.908L14.406 17.499C14.8133 17.3194 15.1999 17.0961 15.559 16.833L16.38 16.233L18.421 16.883L19.436 15.125L17.853 13.682L17.965 12.67C18.0142 12.2274 18.0142 11.7806 17.965 11.338L17.853 10.326L19.437 8.88L18.421 7.121L16.38 7.771L15.559 7.171C15.1998 6.90671 14.8133 6.68175 14.406 6.5L13.473 6.091L13.016 4H10.986L10.527 6.092L9.59604 6.5C9.39785 6.58704 9.20456 6.68486 9.01704 6.793C8.81878 6.90633 8.62713 7.03086 8.44304 7.166L7.62204 7.766L5.58204 7.116L4.56504 8.88L6.14804 10.321L6.03604 11.334C5.98684 11.7766 5.98684 12.2234 6.03604 12.666L6.14804 13.678L4.56504 15.121L5.58004 16.879L7.62004 16.229ZM11.996 16C9.7869 16 7.99604 14.2091 7.99604 12C7.99604 9.79086 9.7869 8 11.996 8C14.2052 8 15.996 9.79086 15.996 12C15.9933 14.208 14.204 15.9972 11.996 16ZM11.996 10C10.9034 10.0011 10.0139 10.8788 9.99827 11.9713C9.98262 13.0638 10.8466 13.9667 11.9387 13.9991C13.0309 14.0315 13.9469 13.1815 13.996 12.09V12.49V12C13.996 10.8954 13.1006 10 11.996 10Z"
              fill="currentColor" />
          </svg>

          <div>ParamÃ¨tres</div>
        </div>
      </li>
    </ul>
  </div>

  <!-- Main Area -->
  <div class="flex flex-col flex-1 overflow-hidden">
    <!-- Top Bar -->
    <div class="bg-card text-primary-text shadow-md rounded-lg flex items-center justify-between px-6 py-2 z-40">
      <!-- Top bar toggle icon (visible below md) -->
      <div class="flex flex-row md:hidden">
        <button class="text-2xl p-2 rounded focus:outline-none" (click)="toggleSidebar()">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
          </svg>
        </button>
        <img [src]="logoConfig.mobile" alt="Logo Gestion Ã‰cole" class="h-14 w-auto object-contain" />
      </div>



      <!-- Composant topbar.component.html -->

      <div class="flex flex-row w-full justify-end items-center gap-2">
        <button (click)="toggleTheme()" class="px-2 py-1 rounded-full bg-gray-50 transition-colors cursor-pointer">
          @switch (themeService.theme()) { @case ('light') {
          <span>ðŸŒž</span>
          } @case ('dark') {
          <span>ðŸŒ™</span>
          } @case ('system') {
          <span>ðŸ’»</span>
          } }
        </button>
        <div #profileMenu class="relative rounded-xl px-2 py-1">
          <div class="flex items-center space-x-2 cursor-pointer" (click)="toggleProfileMenu($event)">
            <img src="assets/profil.png" alt="Profile" class="rounded-full h-10 w-10" />
            <div class="hidden md:flex flex-col">
              <div>{{ user.first_name }} {{ user.last_name }}</div>
              <div class="text-xs text-gray">
                {{ getFormateduserRole(user.role) }}
              </div>
            </div>
            <!-- Dropdown arrow -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-600 transition-transform duration-200"
              [ngClass]="{ 'rotate-180': isProfileMenuOpen }" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </div>

          <!-- Dropdown menu -->
          <div *ngIf="isProfileMenuOpen"
            class="absolute right-0 mt-2 w-48 bg-card text-primary-text border border-gray-200 rounded-lg shadow-lg z-50">
            <ul class="py-2 text-sm">
              <li>
                <button class="w-full text-left px-4 py-2 hover:bg-gray-100 hover:text-black cursor-pointer"
                  (click)="logout()">
                  <div class="flex flex-row items-center gap-1">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <g clip-path="url(#clip0_1265_4602)">
                        <path
                          d="M13 3H11V13H13V3ZM17.83 5.17L16.41 6.59C17.99 7.86 19 9.81 19 12C19 15.87 15.87 19 12 19C8.13 19 5 15.87 5 12C5 9.81 6.01 7.86 7.58 6.58L6.17 5.17C4.23 6.82 3 9.26 3 12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12C21 9.26 19.77 6.82 17.83 5.17Z"
                          fill="currentColor" />
                      </g>
                      <defs>
                        <clipPath id="clip0_1265_4602">
                          <rect width="24" height="24" fill="white" />
                        </clipPath>
                      </defs>
                    </svg>
                    <span>Se dÃ©connecter</span>
                  </div>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="flex-1 overflow-y-auto rounded-lg p-6 px-0 bg-global-bg">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>